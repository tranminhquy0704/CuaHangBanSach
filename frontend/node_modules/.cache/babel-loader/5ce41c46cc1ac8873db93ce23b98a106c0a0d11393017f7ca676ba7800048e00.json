{"ast":null,"code":"// Utilities for robust Vietnamese Dong parsing and formatting\n\n// Parse various price formats (e.g. \"119.00\", \"119,00\", \"119000\", \"119.000 đ\") to integer VND\nexport function parseVND(val) {\n  if (val === null || val === undefined) return 0;\n  const raw = String(val).trim();\n  // patterns like \"119.00\" or \"119,00\" often mean 119k in scraped data\n  const shortDecMatch = raw.match(/^(\\d{1,3})[\\.,](\\d{2})$/);\n  if (shortDecMatch) {\n    const i = parseInt(shortDecMatch[1], 10);\n    return i * 1000;\n  }\n  // patterns like \"475.500,00\" or \"1.234.000,00\" => remove fraction\n  const euroMatch = raw.match(/^([\\d\\.]+),(\\d{2})$/);\n  if (euroMatch) {\n    const intPart = euroMatch[1].replace(/\\./g, '');\n    if (intPart) return parseInt(intPart, 10);\n  }\n  // decimal with dot as separator (e.g. \"475500.00\") => treat as true decimal not thousands\n  const decimalDotMatch = raw.match(/^\\d+\\.\\d{1,2}$/);\n  if (decimalDotMatch) {\n    return Math.round(parseFloat(decimalDotMatch[0]));\n  }\n  // remove all non-digits\n  const digits = raw.replace(/\\D/g, '');\n  if (!digits) return 0;\n  let num = parseInt(digits, 10);\n  return num;\n}\n\n// Format number to \"119.000 đ\"\nexport function formatVND(n) {\n  const amount = typeof n === 'number' ? n : parseVND(n);\n  return new Intl.NumberFormat('vi-VN').format(amount) + '\\u00A0đ';\n}","map":{"version":3,"names":["parseVND","val","undefined","raw","String","trim","shortDecMatch","match","i","parseInt","euroMatch","intPart","replace","decimalDotMatch","Math","round","parseFloat","digits","num","formatVND","n","amount","Intl","NumberFormat","format"],"sources":["C:/Trần Minh Quý/Chuyên đề Nodejs và React/2200008995_TranMinhQuy/2200008995_TranMinhQuy/ProjectReactNodejs/SHOPBANSACH/frontend/src/utils/currency.js"],"sourcesContent":["// Utilities for robust Vietnamese Dong parsing and formatting\n\n// Parse various price formats (e.g. \"119.00\", \"119,00\", \"119000\", \"119.000 đ\") to integer VND\nexport function parseVND(val) {\n  if (val === null || val === undefined) return 0;\n  const raw = String(val).trim();\n  // patterns like \"119.00\" or \"119,00\" often mean 119k in scraped data\n  const shortDecMatch = raw.match(/^(\\d{1,3})[\\.,](\\d{2})$/);\n  if (shortDecMatch) {\n    const i = parseInt(shortDecMatch[1], 10);\n    return i * 1000;\n  }\n  // patterns like \"475.500,00\" or \"1.234.000,00\" => remove fraction\n  const euroMatch = raw.match(/^([\\d\\.]+),(\\d{2})$/);\n  if (euroMatch) {\n    const intPart = euroMatch[1].replace(/\\./g, '');\n    if (intPart) return parseInt(intPart, 10);\n  }\n  // decimal with dot as separator (e.g. \"475500.00\") => treat as true decimal not thousands\n  const decimalDotMatch = raw.match(/^\\d+\\.\\d{1,2}$/);\n  if (decimalDotMatch) {\n    return Math.round(parseFloat(decimalDotMatch[0]));\n  }\n  // remove all non-digits\n  const digits = raw.replace(/\\D/g, '');\n  if (!digits) return 0;\n  let num = parseInt(digits, 10);\n  return num;\n}\n\n// Format number to \"119.000 đ\"\nexport function formatVND(n) {\n  const amount = typeof n === 'number' ? n : parseVND(n);\n  return new Intl.NumberFormat('vi-VN').format(amount) + '\\u00A0đ';\n}\n"],"mappings":"AAAA;;AAEA;AACA,OAAO,SAASA,QAAQA,CAACC,GAAG,EAAE;EAC5B,IAAIA,GAAG,KAAK,IAAI,IAAIA,GAAG,KAAKC,SAAS,EAAE,OAAO,CAAC;EAC/C,MAAMC,GAAG,GAAGC,MAAM,CAACH,GAAG,CAAC,CAACI,IAAI,CAAC,CAAC;EAC9B;EACA,MAAMC,aAAa,GAAGH,GAAG,CAACI,KAAK,CAAC,yBAAyB,CAAC;EAC1D,IAAID,aAAa,EAAE;IACjB,MAAME,CAAC,GAAGC,QAAQ,CAACH,aAAa,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;IACxC,OAAOE,CAAC,GAAG,IAAI;EACjB;EACA;EACA,MAAME,SAAS,GAAGP,GAAG,CAACI,KAAK,CAAC,qBAAqB,CAAC;EAClD,IAAIG,SAAS,EAAE;IACb,MAAMC,OAAO,GAAGD,SAAS,CAAC,CAAC,CAAC,CAACE,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;IAC/C,IAAID,OAAO,EAAE,OAAOF,QAAQ,CAACE,OAAO,EAAE,EAAE,CAAC;EAC3C;EACA;EACA,MAAME,eAAe,GAAGV,GAAG,CAACI,KAAK,CAAC,gBAAgB,CAAC;EACnD,IAAIM,eAAe,EAAE;IACnB,OAAOC,IAAI,CAACC,KAAK,CAACC,UAAU,CAACH,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC;EACnD;EACA;EACA,MAAMI,MAAM,GAAGd,GAAG,CAACS,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;EACrC,IAAI,CAACK,MAAM,EAAE,OAAO,CAAC;EACrB,IAAIC,GAAG,GAAGT,QAAQ,CAACQ,MAAM,EAAE,EAAE,CAAC;EAC9B,OAAOC,GAAG;AACZ;;AAEA;AACA,OAAO,SAASC,SAASA,CAACC,CAAC,EAAE;EAC3B,MAAMC,MAAM,GAAG,OAAOD,CAAC,KAAK,QAAQ,GAAGA,CAAC,GAAGpB,QAAQ,CAACoB,CAAC,CAAC;EACtD,OAAO,IAAIE,IAAI,CAACC,YAAY,CAAC,OAAO,CAAC,CAACC,MAAM,CAACH,MAAM,CAAC,GAAG,SAAS;AAClE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}