{"ast":null,"code":"// Utilities for robust Vietnamese Dong parsing and formatting\n// Parse various price formats (e.g. \"119.00\", \"119,00\", \"119000\", \"119.000 đ\") to integer VND\nexport function parseVND(val){if(val===null||val===undefined)return 0;const raw=String(val).trim();// patterns like \"119.00\" or \"119,00\" often mean 119k in scraped data\nconst shortDecMatch=raw.match(/^(\\d{1,3})[\\.,](\\d{2})$/);if(shortDecMatch){const i=parseInt(shortDecMatch[1],10);return i*1000;}// patterns like \"475.500,00\" or \"1.234.000,00\" => remove fraction\nconst euroMatch=raw.match(/^([\\d\\.]+),(\\d{2})$/);if(euroMatch){const intPart=euroMatch[1].replace(/\\./g,'');if(intPart)return parseInt(intPart,10);}// decimal with dot as separator (e.g. \"475500.00\") => treat as true decimal not thousands\nconst decimalDotMatch=raw.match(/^\\d+\\.\\d{1,2}$/);if(decimalDotMatch){return Math.round(parseFloat(decimalDotMatch[0]));}// remove all non-digits\nconst digits=raw.replace(/\\D/g,'');if(!digits)return 0;let num=parseInt(digits,10);return num;}// Format number to \"119.000 đ\"\nexport function formatVND(n){const amount=typeof n==='number'?n:parseVND(n);return new Intl.NumberFormat('vi-VN').format(amount)+'\\u00A0đ';}","map":{"version":3,"names":["parseVND","val","undefined","raw","String","trim","shortDecMatch","match","i","parseInt","euroMatch","intPart","replace","decimalDotMatch","Math","round","parseFloat","digits","num","formatVND","n","amount","Intl","NumberFormat","format"],"sources":["C:/Trần Minh Quý/Chuyên đề Nodejs và React/2200008995_TranMinhQuy/2200008995_TranMinhQuy/ProjectReactNodejs/SHOPBANSACH/frontend/src/utils/currency.js"],"sourcesContent":["// Utilities for robust Vietnamese Dong parsing and formatting\n\n// Parse various price formats (e.g. \"119.00\", \"119,00\", \"119000\", \"119.000 đ\") to integer VND\nexport function parseVND(val) {\n  if (val === null || val === undefined) return 0;\n  const raw = String(val).trim();\n  // patterns like \"119.00\" or \"119,00\" often mean 119k in scraped data\n  const shortDecMatch = raw.match(/^(\\d{1,3})[\\.,](\\d{2})$/);\n  if (shortDecMatch) {\n    const i = parseInt(shortDecMatch[1], 10);\n    return i * 1000;\n  }\n  // patterns like \"475.500,00\" or \"1.234.000,00\" => remove fraction\n  const euroMatch = raw.match(/^([\\d\\.]+),(\\d{2})$/);\n  if (euroMatch) {\n    const intPart = euroMatch[1].replace(/\\./g, '');\n    if (intPart) return parseInt(intPart, 10);\n  }\n  // decimal with dot as separator (e.g. \"475500.00\") => treat as true decimal not thousands\n  const decimalDotMatch = raw.match(/^\\d+\\.\\d{1,2}$/);\n  if (decimalDotMatch) {\n    return Math.round(parseFloat(decimalDotMatch[0]));\n  }\n  // remove all non-digits\n  const digits = raw.replace(/\\D/g, '');\n  if (!digits) return 0;\n  let num = parseInt(digits, 10);\n  return num;\n}\n\n// Format number to \"119.000 đ\"\nexport function formatVND(n) {\n  const amount = typeof n === 'number' ? n : parseVND(n);\n  return new Intl.NumberFormat('vi-VN').format(amount) + '\\u00A0đ';\n}\n"],"mappings":"AAAA;AAEA;AACA,MAAO,SAAS,CAAAA,QAAQA,CAACC,GAAG,CAAE,CAC5B,GAAIA,GAAG,GAAK,IAAI,EAAIA,GAAG,GAAKC,SAAS,CAAE,MAAO,EAAC,CAC/C,KAAM,CAAAC,GAAG,CAAGC,MAAM,CAACH,GAAG,CAAC,CAACI,IAAI,CAAC,CAAC,CAC9B;AACA,KAAM,CAAAC,aAAa,CAAGH,GAAG,CAACI,KAAK,CAAC,yBAAyB,CAAC,CAC1D,GAAID,aAAa,CAAE,CACjB,KAAM,CAAAE,CAAC,CAAGC,QAAQ,CAACH,aAAa,CAAC,CAAC,CAAC,CAAE,EAAE,CAAC,CACxC,MAAO,CAAAE,CAAC,CAAG,IAAI,CACjB,CACA;AACA,KAAM,CAAAE,SAAS,CAAGP,GAAG,CAACI,KAAK,CAAC,qBAAqB,CAAC,CAClD,GAAIG,SAAS,CAAE,CACb,KAAM,CAAAC,OAAO,CAAGD,SAAS,CAAC,CAAC,CAAC,CAACE,OAAO,CAAC,KAAK,CAAE,EAAE,CAAC,CAC/C,GAAID,OAAO,CAAE,MAAO,CAAAF,QAAQ,CAACE,OAAO,CAAE,EAAE,CAAC,CAC3C,CACA;AACA,KAAM,CAAAE,eAAe,CAAGV,GAAG,CAACI,KAAK,CAAC,gBAAgB,CAAC,CACnD,GAAIM,eAAe,CAAE,CACnB,MAAO,CAAAC,IAAI,CAACC,KAAK,CAACC,UAAU,CAACH,eAAe,CAAC,CAAC,CAAC,CAAC,CAAC,CACnD,CACA;AACA,KAAM,CAAAI,MAAM,CAAGd,GAAG,CAACS,OAAO,CAAC,KAAK,CAAE,EAAE,CAAC,CACrC,GAAI,CAACK,MAAM,CAAE,MAAO,EAAC,CACrB,GAAI,CAAAC,GAAG,CAAGT,QAAQ,CAACQ,MAAM,CAAE,EAAE,CAAC,CAC9B,MAAO,CAAAC,GAAG,CACZ,CAEA;AACA,MAAO,SAAS,CAAAC,SAASA,CAACC,CAAC,CAAE,CAC3B,KAAM,CAAAC,MAAM,CAAG,MAAO,CAAAD,CAAC,GAAK,QAAQ,CAAGA,CAAC,CAAGpB,QAAQ,CAACoB,CAAC,CAAC,CACtD,MAAO,IAAI,CAAAE,IAAI,CAACC,YAAY,CAAC,OAAO,CAAC,CAACC,MAAM,CAACH,MAAM,CAAC,CAAG,SAAS,CAClE","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}