{"ast":null,"code":"var _jsxFileName = \"C:\\\\Tr\\u1EA7n Minh Qu\\xFD\\\\Chuy\\xEAn \\u0111\\u1EC1 Nodejs v\\xE0 React\\\\2200008995_TranMinhQuy\\\\2200008995_TranMinhQuy\\\\ProjectReactNodejs\\\\SHOPBANSACH\\\\frontend\\\\src\\\\pages\\\\FlashSale.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useEffect, useMemo, useState } from 'react';\nimport axios from 'axios';\nimport { parseVND, formatVND } from '../utils/currency';\n\n// Check if Flash Sale is enabled\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction useFlashSaleEnabled() {\n  _s();\n  const [enabled, setEnabled] = useState(false);\n  useEffect(() => {\n    axios.get('/api/settings').then(res => {\n      if (res.data && res.data['promo.enable_flashsale']) {\n        setEnabled(res.data['promo.enable_flashsale'].value === 'true');\n      }\n    }).catch(() => setEnabled(false));\n  }, []);\n  return enabled;\n}\n_s(useFlashSaleEnabled, \"KO045EdmUKRrcVNzr+fxbg9aW04=\");\nfunction pad(n) {\n  return n.toString().padStart(2, '0');\n}\n\n// Persisted countdown: keep a stable end timestamp in localStorage to avoid resetting on reload\nfunction getPersistentEnd(durationMs, storageKey = 'flash_sale_end') {\n  try {\n    const raw = localStorage.getItem(storageKey);\n    const saved = raw ? parseInt(raw, 10) : NaN;\n    const now = Date.now();\n    // if saved end exists and is in the future, reuse it\n    if (Number.isFinite(saved) && saved > now) return saved;\n    // else create new end and persist\n    const end = now + durationMs;\n    localStorage.setItem(storageKey, String(end));\n    return end;\n  } catch (_) {\n    return Date.now() + durationMs;\n  }\n}\nfunction useCountdownTo(endTs) {\n  _s2();\n  const [left, setLeft] = useState(() => Math.max(0, endTs - Date.now()));\n  useEffect(() => {\n    const id = setInterval(() => setLeft(Math.max(0, endTs - Date.now())), 1000);\n    return () => clearInterval(id);\n  }, [endTs]);\n  const parts = useMemo(() => {\n    const total = Math.max(0, left);\n    const sec = Math.floor(total / 1000);\n    const h = Math.floor(sec / 3600);\n    const m = Math.floor(sec % 3600 / 60);\n    const s = sec % 60;\n    return {\n      h: pad(h),\n      m: pad(m),\n      s: pad(s)\n    };\n  }, [left]);\n  return parts;\n}\n_s2(useCountdownTo, \"poSOavoB01FoaJ+fDn2KvGnQED0=\");\nconst FlashSale = () => {\n  _s3();\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const flashSaleEnabled = useFlashSaleEnabled();\n  // Persist a 2-hour countdown window so reloads don't reset the timer\n  const end = getPersistentEnd(2 * 60 * 60 * 1000, 'flash_sale_end');\n  const {\n    h,\n    m,\n    s\n  } = useCountdownTo(end);\n  useEffect(() => {\n    axios.get('/api/products').then(res => {\n      const data = Array.isArray(res.data) ? res.data : [];\n      // pick products that have discount if present, otherwise mock a few discounts\n      let list = data.filter(p => p.discount);\n      if (list.length === 0) {\n        list = data.slice(0, 10).map((p, idx) => {\n          var _p$sold, _p$rating;\n          return {\n            ...p,\n            discount: [10, 15, 20, 25, 30][idx % 5],\n            sold: (_p$sold = p.sold) !== null && _p$sold !== void 0 ? _p$sold : 500 + idx * 23,\n            rating: (_p$rating = p.rating) !== null && _p$rating !== void 0 ? _p$rating : 4.5\n          };\n        });\n      }\n      setItems(list);\n      setLoading(false);\n    }).catch(() => setLoading(false));\n  }, []);\n\n  // Don't render if Flash Sale is disabled\n  if (!flashSaleEnabled) {\n    return null;\n  }\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    className: \"flash-sale container-fluid mt-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flash-sale__header d-flex align-items-center justify-content-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex align-items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"flash-sale__title mb-0 mr-3\",\n          children: [\"FLASH \", /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"SALE\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 61\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flash-sale__countdown\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: h\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \":\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: m\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 43\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \":\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 59\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: s\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 73\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"/shop\",\n        className: \"flash-sale__viewall\",\n        children: \"Xem t\\u1EA5t c\\u1EA3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flash-sale__scroller d-flex\",\n      style: {\n        gap: '12px',\n        overflowX: 'auto',\n        padding: '6px 4px 4px'\n      },\n      children: [loading && [...Array(6)].map((_, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flash-card skeleton-card\",\n        style: {\n          flex: '0 0 180px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeleton-thumb\",\n          style: {\n            height: 180\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeleton-line\",\n          style: {\n            width: '80%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"skeleton-line\",\n          style: {\n            width: '40%'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 15\n        }, this)]\n      }, `sk-fs-${i}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }, this)), !loading && items.map(p => {\n        const rawPrice = parseVND(p.price);\n        const price = Math.max(0, Math.round(rawPrice * (1 - (Number(p.discount) || 0) / 100)));\n        const priceStr = formatVND(price);\n        const oldPriceStr = formatVND(rawPrice);\n        const total = Number(p.promoTotal || p.promoStock || p.stock || p.inventory || 0);\n        const sold = Number(p.sold || 0);\n        const pct = total > 0 ? Math.max(0, Math.min(100, Math.round(sold / total * 100))) : 0;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flash-card\",\n          style: {\n            flex: '0 0 180px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"a\", {\n            href: `/shopdetail/${p.id}`,\n            className: \"d-block flash-card__thumb\",\n            style: {\n              height: 180\n            },\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: p.img,\n              alt: p.name,\n              style: {\n                width: '100%',\n                height: '100%',\n                objectFit: 'contain'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 127,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flash-card__body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flash-card__name\",\n              title: p.name,\n              children: p.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flash-card__price\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: priceStr\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 132,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"flash-card__old\",\n                children: oldPriceStr\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"flash-card__discount\",\n                children: [\"-\", p.discount, \"%\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 134,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flash-card__sold\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"track\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"fill\",\n                  style: {\n                    width: pct + '%'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                children: [\"\\u0110\\xE3 b\\xE1n \", sold, total ? `/${total}` : '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 136,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this)]\n        }, p.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 13\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 5\n  }, this);\n};\n_s3(FlashSale, \"ir9v6D+HRlYXEYsp78B/52x2KW4=\", false, function () {\n  return [useFlashSaleEnabled, useCountdownTo];\n});\n_c = FlashSale;\nexport default FlashSale;\nvar _c;\n$RefreshReg$(_c, \"FlashSale\");","map":{"version":3,"names":["React","useEffect","useMemo","useState","axios","parseVND","formatVND","jsxDEV","_jsxDEV","useFlashSaleEnabled","_s","enabled","setEnabled","get","then","res","data","value","catch","pad","n","toString","padStart","getPersistentEnd","durationMs","storageKey","raw","localStorage","getItem","saved","parseInt","NaN","now","Date","Number","isFinite","end","setItem","String","_","useCountdownTo","endTs","_s2","left","setLeft","Math","max","id","setInterval","clearInterval","parts","total","sec","floor","h","m","s","FlashSale","_s3","items","setItems","loading","setLoading","flashSaleEnabled","Array","isArray","list","filter","p","discount","length","slice","map","idx","_p$sold","_p$rating","sold","rating","className","children","fileName","_jsxFileName","lineNumber","columnNumber","href","style","gap","overflowX","padding","i","flex","height","width","rawPrice","price","round","priceStr","oldPriceStr","promoTotal","promoStock","stock","inventory","pct","min","src","img","alt","name","objectFit","title","_c","$RefreshReg$"],"sources":["C:/Trần Minh Quý/Chuyên đề Nodejs và React/2200008995_TranMinhQuy/2200008995_TranMinhQuy/ProjectReactNodejs/SHOPBANSACH/frontend/src/pages/FlashSale.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport axios from 'axios';\nimport { parseVND, formatVND } from '../utils/currency';\n\n// Check if Flash Sale is enabled\nfunction useFlashSaleEnabled() {\n  const [enabled, setEnabled] = useState(false);\n  useEffect(() => {\n    axios.get('/api/settings')\n      .then(res => {\n        if (res.data && res.data['promo.enable_flashsale']) {\n          setEnabled(res.data['promo.enable_flashsale'].value === 'true');\n        }\n      })\n      .catch(() => setEnabled(false));\n  }, []);\n  return enabled;\n}\n\nfunction pad(n) {\n  return n.toString().padStart(2, '0');\n}\n\n// Persisted countdown: keep a stable end timestamp in localStorage to avoid resetting on reload\nfunction getPersistentEnd(durationMs, storageKey = 'flash_sale_end') {\n  try {\n    const raw = localStorage.getItem(storageKey);\n    const saved = raw ? parseInt(raw, 10) : NaN;\n    const now = Date.now();\n    // if saved end exists and is in the future, reuse it\n    if (Number.isFinite(saved) && saved > now) return saved;\n    // else create new end and persist\n    const end = now + durationMs;\n    localStorage.setItem(storageKey, String(end));\n    return end;\n  } catch (_) {\n    return Date.now() + durationMs;\n  }\n}\n\nfunction useCountdownTo(endTs) {\n  const [left, setLeft] = useState(() => Math.max(0, endTs - Date.now()));\n  useEffect(() => {\n    const id = setInterval(() => setLeft(Math.max(0, endTs - Date.now())), 1000);\n    return () => clearInterval(id);\n  }, [endTs]);\n  const parts = useMemo(() => {\n    const total = Math.max(0, left);\n    const sec = Math.floor(total / 1000);\n    const h = Math.floor(sec / 3600);\n    const m = Math.floor((sec % 3600) / 60);\n    const s = sec % 60;\n    return { h: pad(h), m: pad(m), s: pad(s) };\n  }, [left]);\n  return parts;\n}\n\nconst FlashSale = () => {\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const flashSaleEnabled = useFlashSaleEnabled();\n  // Persist a 2-hour countdown window so reloads don't reset the timer\n  const end = getPersistentEnd(2 * 60 * 60 * 1000, 'flash_sale_end');\n  const { h, m, s } = useCountdownTo(end);\n\n  useEffect(() => {\n    axios.get('/api/products')\n      .then(res => {\n        const data = Array.isArray(res.data) ? res.data : [];\n        // pick products that have discount if present, otherwise mock a few discounts\n        let list = data.filter(p => p.discount);\n        if (list.length === 0) {\n          list = data.slice(0, 10).map((p, idx) => ({\n            ...p,\n            discount: [10, 15, 20, 25, 30][idx % 5],\n            sold: p.sold ?? (500 + idx * 23),\n            rating: p.rating ?? 4.5,\n          }));\n        }\n        setItems(list);\n        setLoading(false);\n      })\n      .catch(() => setLoading(false));\n  }, []);\n\n  // Don't render if Flash Sale is disabled\n  if (!flashSaleEnabled) {\n    return null;\n  }\n\n  return (\n    <section className=\"flash-sale container-fluid mt-4\">\n      <div className=\"flash-sale__header d-flex align-items-center justify-content-between\">\n        <div className=\"d-flex align-items-center\">\n          <h3 className=\"flash-sale__title mb-0 mr-3\">FLASH <span>SALE</span></h3>\n          <div className=\"flash-sale__countdown\">\n            <span>{h}</span><span>:</span><span>{m}</span><span>:</span><span>{s}</span>\n          </div>\n        </div>\n        <a href=\"/shop\" className=\"flash-sale__viewall\">Xem tất cả</a>\n      </div>\n\n      <div\n        className=\"flash-sale__scroller d-flex\"\n        style={{ gap: '12px', overflowX: 'auto', padding: '6px 4px 4px' }}\n      >\n        {loading && (\n          [...Array(6)].map((_, i) => (\n            <div key={`sk-fs-${i}`} className=\"flash-card skeleton-card\" style={{ flex: '0 0 180px' }}>\n              <div className=\"skeleton-thumb\" style={{ height: 180 }} />\n              <div className=\"skeleton-line\" style={{ width: '80%' }} />\n              <div className=\"skeleton-line\" style={{ width: '40%' }} />\n            </div>\n          ))\n        )}\n        {!loading && items.map((p) => {\n          const rawPrice = parseVND(p.price);\n          const price = Math.max(0, Math.round(rawPrice * (1 - (Number(p.discount) || 0)/100)));\n          const priceStr = formatVND(price);\n          const oldPriceStr = formatVND(rawPrice);\n          const total = Number(p.promoTotal || p.promoStock || p.stock || p.inventory || 0);\n          const sold = Number(p.sold || 0);\n          const pct = total > 0 ? Math.max(0, Math.min(100, Math.round((sold / total) * 100))) : 0;\n          return (\n            <div key={p.id} className=\"flash-card\" style={{ flex: '0 0 180px' }}>\n              <a href={`/shopdetail/${p.id}`} className=\"d-block flash-card__thumb\" style={{ height: 180 }}>\n                <img src={p.img} alt={p.name} style={{ width: '100%', height: '100%', objectFit: 'contain' }} />\n              </a>\n              <div className=\"flash-card__body\">\n                <div className=\"flash-card__name\" title={p.name}>{p.name}</div>\n                <div className=\"flash-card__price\">\n                  <strong>{priceStr}</strong>\n                  <span className=\"flash-card__old\">{oldPriceStr}</span>\n                  <span className=\"flash-card__discount\">-{p.discount}%</span>\n                </div>\n                <div className=\"flash-card__sold\">\n                  <div className=\"track\">\n                    <div className=\"fill\" style={{ width: pct + '%' }} />\n                  </div>\n                  <small>Đã bán {sold}{total ? `/${total}` : ''}</small>\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n    </section>\n  );\n};\n\nexport default FlashSale;\n"],"mappings":";;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AAC3D,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,EAAEC,SAAS,QAAQ,mBAAmB;;AAEvD;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,SAASC,mBAAmBA,CAAA,EAAG;EAAAC,EAAA;EAC7B,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAC7CF,SAAS,CAAC,MAAM;IACdG,KAAK,CAACS,GAAG,CAAC,eAAe,CAAC,CACvBC,IAAI,CAACC,GAAG,IAAI;MACX,IAAIA,GAAG,CAACC,IAAI,IAAID,GAAG,CAACC,IAAI,CAAC,wBAAwB,CAAC,EAAE;QAClDJ,UAAU,CAACG,GAAG,CAACC,IAAI,CAAC,wBAAwB,CAAC,CAACC,KAAK,KAAK,MAAM,CAAC;MACjE;IACF,CAAC,CAAC,CACDC,KAAK,CAAC,MAAMN,UAAU,CAAC,KAAK,CAAC,CAAC;EACnC,CAAC,EAAE,EAAE,CAAC;EACN,OAAOD,OAAO;AAChB;AAACD,EAAA,CAZQD,mBAAmB;AAc5B,SAASU,GAAGA,CAACC,CAAC,EAAE;EACd,OAAOA,CAAC,CAACC,QAAQ,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAE,GAAG,CAAC;AACtC;;AAEA;AACA,SAASC,gBAAgBA,CAACC,UAAU,EAAEC,UAAU,GAAG,gBAAgB,EAAE;EACnE,IAAI;IACF,MAAMC,GAAG,GAAGC,YAAY,CAACC,OAAO,CAACH,UAAU,CAAC;IAC5C,MAAMI,KAAK,GAAGH,GAAG,GAAGI,QAAQ,CAACJ,GAAG,EAAE,EAAE,CAAC,GAAGK,GAAG;IAC3C,MAAMC,GAAG,GAAGC,IAAI,CAACD,GAAG,CAAC,CAAC;IACtB;IACA,IAAIE,MAAM,CAACC,QAAQ,CAACN,KAAK,CAAC,IAAIA,KAAK,GAAGG,GAAG,EAAE,OAAOH,KAAK;IACvD;IACA,MAAMO,GAAG,GAAGJ,GAAG,GAAGR,UAAU;IAC5BG,YAAY,CAACU,OAAO,CAACZ,UAAU,EAAEa,MAAM,CAACF,GAAG,CAAC,CAAC;IAC7C,OAAOA,GAAG;EACZ,CAAC,CAAC,OAAOG,CAAC,EAAE;IACV,OAAON,IAAI,CAACD,GAAG,CAAC,CAAC,GAAGR,UAAU;EAChC;AACF;AAEA,SAASgB,cAAcA,CAACC,KAAK,EAAE;EAAAC,GAAA;EAC7B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGzC,QAAQ,CAAC,MAAM0C,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEL,KAAK,GAAGR,IAAI,CAACD,GAAG,CAAC,CAAC,CAAC,CAAC;EACvE/B,SAAS,CAAC,MAAM;IACd,MAAM8C,EAAE,GAAGC,WAAW,CAAC,MAAMJ,OAAO,CAACC,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEL,KAAK,GAAGR,IAAI,CAACD,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC;IAC5E,OAAO,MAAMiB,aAAa,CAACF,EAAE,CAAC;EAChC,CAAC,EAAE,CAACN,KAAK,CAAC,CAAC;EACX,MAAMS,KAAK,GAAGhD,OAAO,CAAC,MAAM;IAC1B,MAAMiD,KAAK,GAAGN,IAAI,CAACC,GAAG,CAAC,CAAC,EAAEH,IAAI,CAAC;IAC/B,MAAMS,GAAG,GAAGP,IAAI,CAACQ,KAAK,CAACF,KAAK,GAAG,IAAI,CAAC;IACpC,MAAMG,CAAC,GAAGT,IAAI,CAACQ,KAAK,CAACD,GAAG,GAAG,IAAI,CAAC;IAChC,MAAMG,CAAC,GAAGV,IAAI,CAACQ,KAAK,CAAED,GAAG,GAAG,IAAI,GAAI,EAAE,CAAC;IACvC,MAAMI,CAAC,GAAGJ,GAAG,GAAG,EAAE;IAClB,OAAO;MAAEE,CAAC,EAAEnC,GAAG,CAACmC,CAAC,CAAC;MAAEC,CAAC,EAAEpC,GAAG,CAACoC,CAAC,CAAC;MAAEC,CAAC,EAAErC,GAAG,CAACqC,CAAC;IAAE,CAAC;EAC5C,CAAC,EAAE,CAACb,IAAI,CAAC,CAAC;EACV,OAAOO,KAAK;AACd;AAACR,GAAA,CAfQF,cAAc;AAiBvB,MAAMiB,SAAS,GAAGA,CAAA,KAAM;EAAAC,GAAA;EACtB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGzD,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAAC0D,OAAO,EAAEC,UAAU,CAAC,GAAG3D,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM4D,gBAAgB,GAAGtD,mBAAmB,CAAC,CAAC;EAC9C;EACA,MAAM2B,GAAG,GAAGb,gBAAgB,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,EAAE,gBAAgB,CAAC;EAClE,MAAM;IAAE+B,CAAC;IAAEC,CAAC;IAAEC;EAAE,CAAC,GAAGhB,cAAc,CAACJ,GAAG,CAAC;EAEvCnC,SAAS,CAAC,MAAM;IACdG,KAAK,CAACS,GAAG,CAAC,eAAe,CAAC,CACvBC,IAAI,CAACC,GAAG,IAAI;MACX,MAAMC,IAAI,GAAGgD,KAAK,CAACC,OAAO,CAAClD,GAAG,CAACC,IAAI,CAAC,GAAGD,GAAG,CAACC,IAAI,GAAG,EAAE;MACpD;MACA,IAAIkD,IAAI,GAAGlD,IAAI,CAACmD,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,QAAQ,CAAC;MACvC,IAAIH,IAAI,CAACI,MAAM,KAAK,CAAC,EAAE;QACrBJ,IAAI,GAAGlD,IAAI,CAACuD,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAACC,GAAG,CAAC,CAACJ,CAAC,EAAEK,GAAG;UAAA,IAAAC,OAAA,EAAAC,SAAA;UAAA,OAAM;YACxC,GAAGP,CAAC;YACJC,QAAQ,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAACI,GAAG,GAAG,CAAC,CAAC;YACvCG,IAAI,GAAAF,OAAA,GAAEN,CAAC,CAACQ,IAAI,cAAAF,OAAA,cAAAA,OAAA,GAAK,GAAG,GAAGD,GAAG,GAAG,EAAG;YAChCI,MAAM,GAAAF,SAAA,GAAEP,CAAC,CAACS,MAAM,cAAAF,SAAA,cAAAA,SAAA,GAAI;UACtB,CAAC;QAAA,CAAC,CAAC;MACL;MACAf,QAAQ,CAACM,IAAI,CAAC;MACdJ,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,CACD5C,KAAK,CAAC,MAAM4C,UAAU,CAAC,KAAK,CAAC,CAAC;EACnC,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,IAAI,CAACC,gBAAgB,EAAE;IACrB,OAAO,IAAI;EACb;EAEA,oBACEvD,OAAA;IAASsE,SAAS,EAAC,iCAAiC;IAAAC,QAAA,gBAClDvE,OAAA;MAAKsE,SAAS,EAAC,sEAAsE;MAAAC,QAAA,gBACnFvE,OAAA;QAAKsE,SAAS,EAAC,2BAA2B;QAAAC,QAAA,gBACxCvE,OAAA;UAAIsE,SAAS,EAAC,6BAA6B;UAAAC,QAAA,GAAC,QAAM,eAAAvE,OAAA;YAAAuE,QAAA,EAAM;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eACxE3E,OAAA;UAAKsE,SAAS,EAAC,uBAAuB;UAAAC,QAAA,gBACpCvE,OAAA;YAAAuE,QAAA,EAAOzB;UAAC;YAAA0B,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAAA3E,OAAA;YAAAuE,QAAA,EAAM;UAAC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAAA3E,OAAA;YAAAuE,QAAA,EAAOxB;UAAC;YAAAyB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eAAA3E,OAAA;YAAAuE,QAAA,EAAM;UAAC;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAAA3E,OAAA;YAAAuE,QAAA,EAAOvB;UAAC;YAAAwB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eACN3E,OAAA;QAAG4E,IAAI,EAAC,OAAO;QAACN,SAAS,EAAC,qBAAqB;QAAAC,QAAA,EAAC;MAAU;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3D,CAAC,eAEN3E,OAAA;MACEsE,SAAS,EAAC,6BAA6B;MACvCO,KAAK,EAAE;QAAEC,GAAG,EAAE,MAAM;QAAEC,SAAS,EAAE,MAAM;QAAEC,OAAO,EAAE;MAAc,CAAE;MAAAT,QAAA,GAEjElB,OAAO,IACN,CAAC,GAAGG,KAAK,CAAC,CAAC,CAAC,CAAC,CAACQ,GAAG,CAAC,CAACjC,CAAC,EAAEkD,CAAC,kBACrBjF,OAAA;QAAwBsE,SAAS,EAAC,0BAA0B;QAACO,KAAK,EAAE;UAAEK,IAAI,EAAE;QAAY,CAAE;QAAAX,QAAA,gBACxFvE,OAAA;UAAKsE,SAAS,EAAC,gBAAgB;UAACO,KAAK,EAAE;YAAEM,MAAM,EAAE;UAAI;QAAE;UAAAX,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC1D3E,OAAA;UAAKsE,SAAS,EAAC,eAAe;UAACO,KAAK,EAAE;YAAEO,KAAK,EAAE;UAAM;QAAE;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,eAC1D3E,OAAA;UAAKsE,SAAS,EAAC,eAAe;UAACO,KAAK,EAAE;YAAEO,KAAK,EAAE;UAAM;QAAE;UAAAZ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC;MAAA,GAHlD,SAASM,CAAC,EAAE;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAIjB,CACN,CACF,EACA,CAACtB,OAAO,IAAIF,KAAK,CAACa,GAAG,CAAEJ,CAAC,IAAK;QAC5B,MAAMyB,QAAQ,GAAGxF,QAAQ,CAAC+D,CAAC,CAAC0B,KAAK,CAAC;QAClC,MAAMA,KAAK,GAAGjD,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAACkD,KAAK,CAACF,QAAQ,IAAI,CAAC,GAAG,CAAC3D,MAAM,CAACkC,CAAC,CAACC,QAAQ,CAAC,IAAI,CAAC,IAAE,GAAG,CAAC,CAAC,CAAC;QACrF,MAAM2B,QAAQ,GAAG1F,SAAS,CAACwF,KAAK,CAAC;QACjC,MAAMG,WAAW,GAAG3F,SAAS,CAACuF,QAAQ,CAAC;QACvC,MAAM1C,KAAK,GAAGjB,MAAM,CAACkC,CAAC,CAAC8B,UAAU,IAAI9B,CAAC,CAAC+B,UAAU,IAAI/B,CAAC,CAACgC,KAAK,IAAIhC,CAAC,CAACiC,SAAS,IAAI,CAAC,CAAC;QACjF,MAAMzB,IAAI,GAAG1C,MAAM,CAACkC,CAAC,CAACQ,IAAI,IAAI,CAAC,CAAC;QAChC,MAAM0B,GAAG,GAAGnD,KAAK,GAAG,CAAC,GAAGN,IAAI,CAACC,GAAG,CAAC,CAAC,EAAED,IAAI,CAAC0D,GAAG,CAAC,GAAG,EAAE1D,IAAI,CAACkD,KAAK,CAAEnB,IAAI,GAAGzB,KAAK,GAAI,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;QACxF,oBACE3C,OAAA;UAAgBsE,SAAS,EAAC,YAAY;UAACO,KAAK,EAAE;YAAEK,IAAI,EAAE;UAAY,CAAE;UAAAX,QAAA,gBAClEvE,OAAA;YAAG4E,IAAI,EAAE,eAAehB,CAAC,CAACrB,EAAE,EAAG;YAAC+B,SAAS,EAAC,2BAA2B;YAACO,KAAK,EAAE;cAAEM,MAAM,EAAE;YAAI,CAAE;YAAAZ,QAAA,eAC3FvE,OAAA;cAAKgG,GAAG,EAAEpC,CAAC,CAACqC,GAAI;cAACC,GAAG,EAAEtC,CAAC,CAACuC,IAAK;cAACtB,KAAK,EAAE;gBAAEO,KAAK,EAAE,MAAM;gBAAED,MAAM,EAAE,MAAM;gBAAEiB,SAAS,EAAE;cAAU;YAAE;cAAA5B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC/F,CAAC,eACJ3E,OAAA;YAAKsE,SAAS,EAAC,kBAAkB;YAAAC,QAAA,gBAC/BvE,OAAA;cAAKsE,SAAS,EAAC,kBAAkB;cAAC+B,KAAK,EAAEzC,CAAC,CAACuC,IAAK;cAAA5B,QAAA,EAAEX,CAAC,CAACuC;YAAI;cAAA3B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAC/D3E,OAAA;cAAKsE,SAAS,EAAC,mBAAmB;cAAAC,QAAA,gBAChCvE,OAAA;gBAAAuE,QAAA,EAASiB;cAAQ;gBAAAhB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAS,CAAC,eAC3B3E,OAAA;gBAAMsE,SAAS,EAAC,iBAAiB;gBAAAC,QAAA,EAAEkB;cAAW;gBAAAjB,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eACtD3E,OAAA;gBAAMsE,SAAS,EAAC,sBAAsB;gBAAAC,QAAA,GAAC,GAAC,EAACX,CAAC,CAACC,QAAQ,EAAC,GAAC;cAAA;gBAAAW,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzD,CAAC,eACN3E,OAAA;cAAKsE,SAAS,EAAC,kBAAkB;cAAAC,QAAA,gBAC/BvE,OAAA;gBAAKsE,SAAS,EAAC,OAAO;gBAAAC,QAAA,eACpBvE,OAAA;kBAAKsE,SAAS,EAAC,MAAM;kBAACO,KAAK,EAAE;oBAAEO,KAAK,EAAEU,GAAG,GAAG;kBAAI;gBAAE;kBAAAtB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClD,CAAC,eACN3E,OAAA;gBAAAuE,QAAA,GAAO,oBAAO,EAACH,IAAI,EAAEzB,KAAK,GAAG,IAAIA,KAAK,EAAE,GAAG,EAAE;cAAA;gBAAA6B,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACnD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA,GAjBEf,CAAC,CAACrB,EAAE;UAAAiC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAkBT,CAAC;MAEV,CAAC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEd,CAAC;AAACzB,GAAA,CA3FID,SAAS;EAAA,QAGYhD,mBAAmB,EAGxB+B,cAAc;AAAA;AAAAsE,EAAA,GAN9BrD,SAAS;AA6Ff,eAAeA,SAAS;AAAC,IAAAqD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}