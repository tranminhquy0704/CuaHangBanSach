{"ast":null,"code":"import React,{useState,useEffect,Fragment}from'react';import axios from'axios';import Header from'./Header';import Footer from'./Footer';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";function Policies(){const[policies,setPolicies]=useState({warranty:'',return:'',shipping:''});const[loading,setLoading]=useState(true);useEffect(()=>{axios.get('/api/settings').then(response=>{if(response.data&&typeof response.data==='object'){const settings={};Object.keys(response.data).forEach(key=>{settings[key]=response.data[key].value||'';});setPolicies({warranty:settings['policy.warranty']||'',return:settings['policy.return']||'',shipping:settings['policy.shipping']||''});}setLoading(false);}).catch(error=>{console.error('Error fetching policies:',error);setLoading(false);});},[]);const formatPolicy=text=>{if(!text)return'';// Convert line breaks to <br> tags\nreturn text.split('\\n').map((line,idx)=>/*#__PURE__*/_jsxs(React.Fragment,{children:[line,idx<text.split('\\n').length-1&&/*#__PURE__*/_jsx(\"br\",{})]},idx));};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid bg-secondary mb-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column align-items-center justify-content-center\",style:{minHeight:'300px'},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-weight-semi-bold text-uppercase mb-3\",children:\"Ch\\xEDnh s\\xE1ch\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-inline-flex\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"m-0\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"Trang ch\\u1EE7\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"m-0 px-2\",children:\"-\"}),/*#__PURE__*/_jsx(\"p\",{className:\"m-0\",children:\"Ch\\xEDnh s\\xE1ch\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid pt-5 pb-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row px-xl-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12\",children:loading?/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:\"Loading...\"})})}):/*#__PURE__*/_jsxs(_Fragment,{children:[policies.warranty&&/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-primary text-white\",children:/*#__PURE__*/_jsxs(\"h4\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-shield-alt me-2\"}),\"Ch\\xEDnh s\\xE1ch b\\u1EA3o h\\xE0nh\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"policy-content\",style:{whiteSpace:'pre-line',lineHeight:'1.8'},children:formatPolicy(policies.warranty)})})]}),policies.return&&/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-success text-white\",children:/*#__PURE__*/_jsxs(\"h4\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exchange-alt me-2\"}),\"Ch\\xEDnh s\\xE1ch \\u0111\\u1ED5i tr\\u1EA3\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"policy-content\",style:{whiteSpace:'pre-line',lineHeight:'1.8'},children:formatPolicy(policies.return)})})]}),policies.shipping&&/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-4 shadow-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-info text-white\",children:/*#__PURE__*/_jsxs(\"h4\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-truck me-2\"}),\"Ch\\xEDnh s\\xE1ch v\\u1EADn chuy\\u1EC3n\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"policy-content\",style:{whiteSpace:'pre-line',lineHeight:'1.8'},children:formatPolicy(policies.shipping)})})]}),!policies.warranty&&!policies.return&&!policies.shipping&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-file-contract fa-3x text-muted mb-3\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-muted\",children:\"Ch\\u01B0a c\\xF3 th\\xF4ng tin ch\\xEDnh s\\xE1ch\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Vui l\\xF2ng quay l\\u1EA1i sau.\"})]})]})})})}),/*#__PURE__*/_jsx(Footer,{})]});}export default Policies;","map":{"version":3,"names":["React","useState","useEffect","Fragment","axios","Header","Footer","jsx","_jsx","jsxs","_jsxs","_Fragment","Policies","policies","setPolicies","warranty","return","shipping","loading","setLoading","get","then","response","data","settings","Object","keys","forEach","key","value","catch","error","console","formatPolicy","text","split","map","line","idx","children","length","className","style","minHeight","href","role","whiteSpace","lineHeight"],"sources":["C:/Trần Minh Quý/Chuyên đề Nodejs và React/2200008995_TranMinhQuy/2200008995_TranMinhQuy/ProjectReactNodejs/SHOPBANSACH/frontend/src/pages/Policies.js"],"sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\r\nimport axios from 'axios';\r\nimport Header from './Header';\r\nimport Footer from './Footer';\r\n\r\nfunction Policies() {\r\n    const [policies, setPolicies] = useState({\r\n        warranty: '',\r\n        return: '',\r\n        shipping: ''\r\n    });\r\n    const [loading, setLoading] = useState(true);\r\n\r\n    useEffect(() => {\r\n        axios.get('/api/settings')\r\n            .then(response => {\r\n                if (response.data && typeof response.data === 'object') {\r\n                    const settings = {};\r\n                    Object.keys(response.data).forEach(key => {\r\n                        settings[key] = response.data[key].value || '';\r\n                    });\r\n                    setPolicies({\r\n                        warranty: settings['policy.warranty'] || '',\r\n                        return: settings['policy.return'] || '',\r\n                        shipping: settings['policy.shipping'] || ''\r\n                    });\r\n                }\r\n                setLoading(false);\r\n            })\r\n            .catch(error => {\r\n                console.error('Error fetching policies:', error);\r\n                setLoading(false);\r\n            });\r\n    }, []);\r\n\r\n    const formatPolicy = (text) => {\r\n        if (!text) return '';\r\n        // Convert line breaks to <br> tags\r\n        return text.split('\\n').map((line, idx) => (\r\n            <React.Fragment key={idx}>\r\n                {line}\r\n                {idx < text.split('\\n').length - 1 && <br />}\r\n            </React.Fragment>\r\n        ));\r\n    };\r\n\r\n    return (\r\n        <Fragment>\r\n            <Header />\r\n            \r\n            <div className=\"container-fluid bg-secondary mb-5\">\r\n                <div className=\"d-flex flex-column align-items-center justify-content-center\" style={{ minHeight: '300px' }}>\r\n                    <h1 className=\"font-weight-semi-bold text-uppercase mb-3\">Chính sách</h1>\r\n                    <div className=\"d-inline-flex\">\r\n                        <p className=\"m-0\"><a href=\"/\">Trang chủ</a></p>\r\n                        <p className=\"m-0 px-2\">-</p>\r\n                        <p className=\"m-0\">Chính sách</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"container-fluid pt-5 pb-5\">\r\n                <div className=\"row px-xl-5\">\r\n                    <div className=\"col-lg-12\">\r\n                        {loading ? (\r\n                            <div className=\"text-center py-5\">\r\n                                <div className=\"spinner-border text-primary\" role=\"status\">\r\n                                    <span className=\"visually-hidden\">Loading...</span>\r\n                                </div>\r\n                            </div>\r\n                        ) : (\r\n                            <>\r\n                                {/* Chính sách bảo hành */}\r\n                                {policies.warranty && (\r\n                                    <div className=\"card mb-4 shadow-sm\">\r\n                                        <div className=\"card-header bg-primary text-white\">\r\n                                            <h4 className=\"mb-0\">\r\n                                                <i className=\"fas fa-shield-alt me-2\"></i>\r\n                                                Chính sách bảo hành\r\n                                            </h4>\r\n                                        </div>\r\n                                        <div className=\"card-body\">\r\n                                            <div className=\"policy-content\" style={{ whiteSpace: 'pre-line', lineHeight: '1.8' }}>\r\n                                                {formatPolicy(policies.warranty)}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {/* Chính sách đổi trả */}\r\n                                {policies.return && (\r\n                                    <div className=\"card mb-4 shadow-sm\">\r\n                                        <div className=\"card-header bg-success text-white\">\r\n                                            <h4 className=\"mb-0\">\r\n                                                <i className=\"fas fa-exchange-alt me-2\"></i>\r\n                                                Chính sách đổi trả\r\n                                            </h4>\r\n                                        </div>\r\n                                        <div className=\"card-body\">\r\n                                            <div className=\"policy-content\" style={{ whiteSpace: 'pre-line', lineHeight: '1.8' }}>\r\n                                                {formatPolicy(policies.return)}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {/* Chính sách vận chuyển */}\r\n                                {policies.shipping && (\r\n                                    <div className=\"card mb-4 shadow-sm\">\r\n                                        <div className=\"card-header bg-info text-white\">\r\n                                            <h4 className=\"mb-0\">\r\n                                                <i className=\"fas fa-truck me-2\"></i>\r\n                                                Chính sách vận chuyển\r\n                                            </h4>\r\n                                        </div>\r\n                                        <div className=\"card-body\">\r\n                                            <div className=\"policy-content\" style={{ whiteSpace: 'pre-line', lineHeight: '1.8' }}>\r\n                                                {formatPolicy(policies.shipping)}\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                )}\r\n\r\n                                {!policies.warranty && !policies.return && !policies.shipping && (\r\n                                    <div className=\"text-center py-5\">\r\n                                        <i className=\"fas fa-file-contract fa-3x text-muted mb-3\"></i>\r\n                                        <h4 className=\"text-muted\">Chưa có thông tin chính sách</h4>\r\n                                        <p className=\"text-muted\">Vui lòng quay lại sau.</p>\r\n                                    </div>\r\n                                )}\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <Footer />\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nexport default Policies;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}