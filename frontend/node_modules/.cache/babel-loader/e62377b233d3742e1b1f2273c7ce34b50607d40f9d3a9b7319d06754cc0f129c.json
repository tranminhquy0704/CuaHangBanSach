{"ast":null,"code":"import React,{Fragment,useEffect,useState}from'react';import{useNavigate,useParams}from'react-router-dom';import axios from'axios';import Header from'../Header';import Footer from'../Footer';import{formatVND,parseVND}from'../../utils/currency';import{toast}from'react-toastify';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function OrderDetail(){const{id}=useParams();const[order,setOrder]=useState(null);const[loading,setLoading]=useState(true);const navigate=useNavigate();useEffect(()=>{const token=localStorage.getItem('token');if(!token){toast.info('Bạn cần đăng nhập để xem chi tiết đơn hàng');navigate('/login');return;}// Fetch order detail\naxios.get(`/api/my-orders/${id}`,{headers:{'Authorization':`Bearer ${token}`}}).then(response=>{setOrder(response.data);setLoading(false);}).catch(error=>{var _error$response,_error$response2;console.error('Error fetching order detail:',error);if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){toast.error('Phiên đăng nhập đã hết hạn');localStorage.removeItem('token');localStorage.removeItem('userEmail');navigate('/login');}else if(((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status)===404){toast.error('Không tìm thấy đơn hàng');navigate('/my-orders');}else{toast.error('Lỗi khi tải chi tiết đơn hàng');}setLoading(false);});},[id,navigate]);// Format status with badge\nconst getStatusBadge=status=>{const statusMap={'pending':{text:'Chờ xử lý',class:'badge bg-warning text-dark'},'paid':{text:'Đã thanh toán',class:'badge bg-info text-white'},'shipped':{text:'Đang giao',class:'badge bg-primary text-white'},'completed':{text:'Hoàn thành',class:'badge bg-success text-white'},'canceled':{text:'Đã hủy',class:'badge bg-danger text-white'}};const statusInfo=statusMap[status]||{text:status,class:'badge bg-secondary text-white'};return/*#__PURE__*/_jsx(\"span\",{className:statusInfo.class,children:statusInfo.text});};// Format date\nconst formatDate=dateString=>{if(!dateString)return'';const date=new Date(dateString);return date.toLocaleDateString('vi-VN',{year:'numeric',month:'long',day:'numeric',hour:'2-digit',minute:'2-digit'});};// Parse cartItems\nconst getCartItems=()=>{if(!order)return[];if(Array.isArray(order.cartItems))return order.cartItems;if(typeof order.cartItems==='string'){try{const parsed=JSON.parse(order.cartItems);return Array.isArray(parsed)?parsed:[];}catch(e){return[];}}return[];};// Calculate subtotal & derived total\nconst calculateSubtotal=items=>{return items.reduce((sum,item)=>{const price=parseVND(item.price||0);const quantity=Number(item.quantity)||0;return sum+price*quantity;},0);};const deriveFinalTotal=items=>{var _order$total;const subtotal=calculateSubtotal(items);const voucherDiscount=Number(order===null||order===void 0?void 0:order.discount_amount)||0;const storedRaw=(_order$total=order===null||order===void 0?void 0:order.total)!==null&&_order$total!==void 0?_order$total:'';const cleaned=String(storedRaw).replace(/[^\\d.,]/g,'');const normalized=cleaned.replace(/(\\d+)\\.(\\d{3}),(\\d{2})$/,'$1$2');const stored=parseVND(normalized);const total=stored>0?stored:Math.max(0,subtotal-voucherDiscount);const promoDiscount=Math.max(0,subtotal-voucherDiscount-total);return{subtotal,voucherDiscount,promoDiscount,total};};if(loading){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid py-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"spinner-border text-primary\",role:\"status\",children:/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:\"\\u0110ang t\\u1EA3i...\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-3\",children:\"\\u0110ang t\\u1EA3i chi ti\\u1EBFt \\u0111\\u01A1n h\\xE0ng...\"})]})}),/*#__PURE__*/_jsx(Footer,{})]});}if(!order){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid py-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-5\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-exclamation-triangle fa-3x text-warning mb-3\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"text-muted\",children:\"Kh\\xF4ng t\\xECm th\\u1EA5y \\u0111\\u01A1n h\\xE0ng\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/my-orders\",className:\"btn btn-primary mt-3\",children:\"Quay l\\u1EA1i danh s\\xE1ch \\u0111\\u01A1n h\\xE0ng\"})]})}),/*#__PURE__*/_jsx(Footer,{})]});}const items=getCartItems();const{subtotal,voucherDiscount,promoDiscount,total}=deriveFinalTotal(items);const shippingAdjustment=Math.max(0,total-(subtotal-voucherDiscount-promoDiscount));const voucherCode=(order===null||order===void 0?void 0:order.voucher_code)||'';return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid bg-secondary mb-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column align-items-center justify-content-center\",style:{minHeight:'200px'},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-weight-semi-bold text-uppercase mb-3\",children:\"Chi ti\\u1EBFt \\u0111\\u01A1n h\\xE0ng\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-inline-flex\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"m-0\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"Trang ch\\u1EE7\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"m-0 px-2\",children:\"-\"}),/*#__PURE__*/_jsx(\"p\",{className:\"m-0\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/my-orders\",children:\"\\u0110\\u01A1n h\\xE0ng c\\u1EE7a t\\xF4i\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"m-0 px-2\",children:\"-\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"m-0\",children:[\"Chi ti\\u1EBFt \\u0111\\u01A1n h\\xE0ng #\",order.id]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid py-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-sm mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-white\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-shopping-bag me-2\"}),\"S\\u1EA3n ph\\u1EA9m trong \\u0111\\u01A1n h\\xE0ng\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body p-0\",children:/*#__PURE__*/_jsx(\"div\",{className:\"table-responsive\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-hover mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"table-light\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{style:{width:'10%'},children:\"H\\xECnh \\u1EA3nh\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'40%'},children:\"T\\xEAn s\\u1EA3n ph\\u1EA9m\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'15%'},className:\"text-center\",children:\"S\\u1ED1 l\\u01B0\\u1EE3ng\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'20%'},className:\"text-end\",children:\"\\u0110\\u01A1n gi\\xE1\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:'15%'},className:\"text-end\",children:\"Th\\xE0nh ti\\u1EC1n\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:items.length===0?/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"5\",className:\"text-center py-4 text-muted\",children:\"Kh\\xF4ng c\\xF3 s\\u1EA3n ph\\u1EA9m trong \\u0111\\u01A1n h\\xE0ng\"})}):items.map((item,index)=>{const itemPrice=parseVND(item.price||0);const itemQuantity=Number(item.quantity)||0;const itemTotal=itemPrice*itemQuantity;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:item.img||'/assets/img/default-product.jpg',alt:item.name||'Sản phẩm',style:{width:'60px',height:'60px',objectFit:'cover',borderRadius:'8px'}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"strong\",{children:item.name||'Sản phẩm'})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:itemQuantity}),/*#__PURE__*/_jsx(\"td\",{className:\"text-end\",children:formatVND(itemPrice)}),/*#__PURE__*/_jsx(\"td\",{className:\"text-end fw-bold\",children:formatVND(itemTotal)})]},index);})})]})})})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-lg-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-sm mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-white\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-info-circle me-2\"}),\"Th\\xF4ng tin \\u0111\\u01A1n h\\xE0ng\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"M\\xE3 \\u0111\\u01A1n h\\xE0ng:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-muted\",children:[\"#\",order.id]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ng\\xE0y \\u0111\\u1EB7t h\\xE0ng:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted\",children:formatDate(order.created_at)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Tr\\u1EA1ng th\\xE1i:\"}),/*#__PURE__*/_jsx(\"div\",{children:getStatusBadge(order.status)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ph\\u01B0\\u01A1ng th\\u1EE9c thanh to\\xE1n:\"}),/*#__PURE__*/_jsx(\"div\",{children:order.paymentMethod==='cod'?/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-secondary\",children:\"Thanh to\\xE1n khi nh\\u1EADn h\\xE0ng (COD)\"}):/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-success\",children:\"Chuy\\u1EC3n kho\\u1EA3n\"})})]}),voucherDiscount>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Voucher \\u0111\\xE3 d\\xF9ng:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted\",children:voucherCode||'Đã áp dụng'})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"T\\u1EA1m t\\xEDnh\"}),/*#__PURE__*/_jsx(\"strong\",{children:formatVND(subtotal)})]}),promoDiscount>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between text-success\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Gi\\u1EA3m gi\\xE1 khuy\\u1EBFn m\\xE3i\"}),/*#__PURE__*/_jsxs(\"strong\",{children:[\"-\",formatVND(promoDiscount)]})]}),voucherDiscount>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between text-success\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Voucher \",voucherCode?`(${voucherCode})`:'']}),/*#__PURE__*/_jsxs(\"strong\",{children:[\"-\",formatVND(voucherDiscount)]})]}),shippingAdjustment>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between text-muted\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Ph\\xED v\\u1EADn chuy\\u1EC3n (\\u01B0\\u1EDBc t\\xEDnh)\"}),/*#__PURE__*/_jsx(\"strong\",{children:formatVND(shippingAdjustment)})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"strong\",{className:\"h5 mb-0\",children:\"T\\u1ED5ng ti\\u1EC1n\"}),/*#__PURE__*/_jsx(\"strong\",{className:\"h5 text-primary mb-0\",children:formatVND(total)})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card shadow-sm mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-white\",children:/*#__PURE__*/_jsxs(\"h5\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-truck me-2\"}),\"Th\\xF4ng tin giao h\\xE0ng\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Ng\\u01B0\\u1EDDi nh\\u1EADn:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted\",children:order.fullName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted\",children:order.mobile})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\u0110\\u1ECBa ch\\u1EC9:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted\",children:order.address})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-0\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"T\\u1EC9nh/Th\\xE0nh ph\\u1ED1:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-muted\",children:order.state})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"card shadow-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-outline-secondary w-100 mb-2\",onClick:()=>navigate('/my-orders'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-arrow-left me-2\"}),\"Quay l\\u1EA1i danh s\\xE1ch\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary w-100\",onClick:()=>navigate('/shop'),children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-shopping-cart me-2\"}),\"Ti\\u1EBFp t\\u1EE5c mua s\\u1EAFm\"]})]})})]})]})}),/*#__PURE__*/_jsx(Footer,{})]});}export default OrderDetail;","map":{"version":3,"names":["React","Fragment","useEffect","useState","useNavigate","useParams","axios","Header","Footer","formatVND","parseVND","toast","jsx","_jsx","jsxs","_jsxs","OrderDetail","id","order","setOrder","loading","setLoading","navigate","token","localStorage","getItem","info","get","headers","then","response","data","catch","error","_error$response","_error$response2","console","status","removeItem","getStatusBadge","statusMap","text","class","statusInfo","className","children","formatDate","dateString","date","Date","toLocaleDateString","year","month","day","hour","minute","getCartItems","Array","isArray","cartItems","parsed","JSON","parse","e","calculateSubtotal","items","reduce","sum","item","price","quantity","Number","deriveFinalTotal","_order$total","subtotal","voucherDiscount","discount_amount","storedRaw","total","cleaned","String","replace","normalized","stored","Math","max","promoDiscount","role","href","shippingAdjustment","voucherCode","voucher_code","style","minHeight","width","length","colSpan","map","index","itemPrice","itemQuantity","itemTotal","src","img","alt","name","height","objectFit","borderRadius","created_at","paymentMethod","fullName","mobile","address","state","onClick"],"sources":["C:/Trần Minh Quý/Chuyên đề Nodejs và React/2200008995_TranMinhQuy/2200008995_TranMinhQuy/ProjectReactNodejs/SHOPBANSACH/frontend/src/pages/User/OrderDetail.js"],"sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport Header from '../Header';\r\nimport Footer from '../Footer';\r\nimport { formatVND, parseVND } from '../../utils/currency';\r\nimport { toast } from 'react-toastify';\r\n\r\nfunction OrderDetail() {\r\n    const { id } = useParams();\r\n    const [order, setOrder] = useState(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        const token = localStorage.getItem('token');\r\n        if (!token) {\r\n            toast.info('Bạn cần đăng nhập để xem chi tiết đơn hàng');\r\n            navigate('/login');\r\n            return;\r\n        }\r\n\r\n        // Fetch order detail\r\n        axios.get(`/api/my-orders/${id}`, {\r\n            headers: {\r\n                'Authorization': `Bearer ${token}`\r\n            }\r\n        })\r\n        .then(response => {\r\n            setOrder(response.data);\r\n            setLoading(false);\r\n        })\r\n        .catch(error => {\r\n            console.error('Error fetching order detail:', error);\r\n            if (error.response?.status === 401) {\r\n                toast.error('Phiên đăng nhập đã hết hạn');\r\n                localStorage.removeItem('token');\r\n                localStorage.removeItem('userEmail');\r\n                navigate('/login');\r\n            } else if (error.response?.status === 404) {\r\n                toast.error('Không tìm thấy đơn hàng');\r\n                navigate('/my-orders');\r\n            } else {\r\n                toast.error('Lỗi khi tải chi tiết đơn hàng');\r\n            }\r\n            setLoading(false);\r\n        });\r\n    }, [id, navigate]);\r\n\r\n    // Format status with badge\r\n    const getStatusBadge = (status) => {\r\n        const statusMap = {\r\n            'pending': { text: 'Chờ xử lý', class: 'badge bg-warning text-dark' },\r\n            'paid': { text: 'Đã thanh toán', class: 'badge bg-info text-white' },\r\n            'shipped': { text: 'Đang giao', class: 'badge bg-primary text-white' },\r\n            'completed': { text: 'Hoàn thành', class: 'badge bg-success text-white' },\r\n            'canceled': { text: 'Đã hủy', class: 'badge bg-danger text-white' }\r\n        };\r\n        const statusInfo = statusMap[status] || { text: status, class: 'badge bg-secondary text-white' };\r\n        return <span className={statusInfo.class}>{statusInfo.text}</span>;\r\n    };\r\n\r\n    // Format date\r\n    const formatDate = (dateString) => {\r\n        if (!dateString) return '';\r\n        const date = new Date(dateString);\r\n        return date.toLocaleDateString('vi-VN', {\r\n            year: 'numeric',\r\n            month: 'long',\r\n            day: 'numeric',\r\n            hour: '2-digit',\r\n            minute: '2-digit'\r\n        });\r\n    };\r\n\r\n    // Parse cartItems\r\n    const getCartItems = () => {\r\n        if (!order) return [];\r\n        if (Array.isArray(order.cartItems)) return order.cartItems;\r\n        if (typeof order.cartItems === 'string') {\r\n            try {\r\n                const parsed = JSON.parse(order.cartItems);\r\n                return Array.isArray(parsed) ? parsed : [];\r\n            } catch (e) {\r\n                return [];\r\n            }\r\n        }\r\n        return [];\r\n    };\r\n\r\n    // Calculate subtotal & derived total\r\n    const calculateSubtotal = (items) => {\r\n        return items.reduce((sum, item) => {\r\n            const price = parseVND(item.price || 0);\r\n            const quantity = Number(item.quantity) || 0;\r\n            return sum + (price * quantity);\r\n        }, 0);\r\n    };\r\n\r\n    const deriveFinalTotal = (items) => {\r\n        const subtotal = calculateSubtotal(items);\r\n        const voucherDiscount = Number(order?.discount_amount) || 0;\r\n        const storedRaw = order?.total ?? '';\r\n        const cleaned = String(storedRaw).replace(/[^\\d.,]/g, '');\r\n        const normalized = cleaned.replace(/(\\d+)\\.(\\d{3}),(\\d{2})$/, '$1$2');\r\n        const stored = parseVND(normalized);\r\n        const total = stored > 0 ? stored : Math.max(0, subtotal - voucherDiscount);\r\n        const promoDiscount = Math.max(0, subtotal - voucherDiscount - total);\r\n        return { subtotal, voucherDiscount, promoDiscount, total };\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <Fragment>\r\n                <Header />\r\n                <div className=\"container-fluid py-5\">\r\n                    <div className=\"text-center py-5\">\r\n                        <div className=\"spinner-border text-primary\" role=\"status\">\r\n                            <span className=\"sr-only\">Đang tải...</span>\r\n                        </div>\r\n                        <p className=\"mt-3\">Đang tải chi tiết đơn hàng...</p>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </Fragment>\r\n        );\r\n    }\r\n\r\n    if (!order) {\r\n        return (\r\n            <Fragment>\r\n                <Header />\r\n                <div className=\"container-fluid py-5\">\r\n                    <div className=\"text-center py-5\">\r\n                        <i className=\"fas fa-exclamation-triangle fa-3x text-warning mb-3\"></i>\r\n                        <h4 className=\"text-muted\">Không tìm thấy đơn hàng</h4>\r\n                        <a href=\"/my-orders\" className=\"btn btn-primary mt-3\">Quay lại danh sách đơn hàng</a>\r\n                    </div>\r\n                </div>\r\n                <Footer />\r\n            </Fragment>\r\n        );\r\n    }\r\n\r\n    const items = getCartItems();\r\n    const { subtotal, voucherDiscount, promoDiscount, total } = deriveFinalTotal(items);\r\n    const shippingAdjustment = Math.max(0, total - (subtotal - voucherDiscount - promoDiscount));\r\n    const voucherCode = order?.voucher_code || '';\r\n\r\n    return (\r\n        <Fragment>\r\n            <Header />\r\n            \r\n            <div className=\"container-fluid bg-secondary mb-5\">\r\n                <div className=\"d-flex flex-column align-items-center justify-content-center\" style={{ minHeight: '200px' }}>\r\n                    <h1 className=\"font-weight-semi-bold text-uppercase mb-3\">Chi tiết đơn hàng</h1>\r\n                    <div className=\"d-inline-flex\">\r\n                        <p className=\"m-0\"><a href=\"/\">Trang chủ</a></p>\r\n                        <p className=\"m-0 px-2\">-</p>\r\n                        <p className=\"m-0\"><a href=\"/my-orders\">Đơn hàng của tôi</a></p>\r\n                        <p className=\"m-0 px-2\">-</p>\r\n                        <p className=\"m-0\">Chi tiết đơn hàng #{order.id}</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"container-fluid py-5\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-lg-8\">\r\n                        {/* Order Items */}\r\n                        <div className=\"card shadow-sm mb-4\">\r\n                            <div className=\"card-header bg-white\">\r\n                                <h5 className=\"mb-0\"><i className=\"fas fa-shopping-bag me-2\"></i>Sản phẩm trong đơn hàng</h5>\r\n                            </div>\r\n                            <div className=\"card-body p-0\">\r\n                                <div className=\"table-responsive\">\r\n                                    <table className=\"table table-hover mb-0\">\r\n                                        <thead className=\"table-light\">\r\n                                            <tr>\r\n                                                <th style={{ width: '10%' }}>Hình ảnh</th>\r\n                                                <th style={{ width: '40%' }}>Tên sản phẩm</th>\r\n                                                <th style={{ width: '15%' }} className=\"text-center\">Số lượng</th>\r\n                                                <th style={{ width: '20%' }} className=\"text-end\">Đơn giá</th>\r\n                                                <th style={{ width: '15%' }} className=\"text-end\">Thành tiền</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {items.length === 0 ? (\r\n                                                <tr>\r\n                                                    <td colSpan=\"5\" className=\"text-center py-4 text-muted\">\r\n                                                        Không có sản phẩm trong đơn hàng\r\n                                                    </td>\r\n                                                </tr>\r\n                                            ) : (\r\n                                                items.map((item, index) => {\r\n                                                    const itemPrice = parseVND(item.price || 0);\r\n                                                    const itemQuantity = Number(item.quantity) || 0;\r\n                                                    const itemTotal = itemPrice * itemQuantity;\r\n                                                    \r\n                                                    return (\r\n                                                        <tr key={index}>\r\n                                                            <td>\r\n                                                                <img \r\n                                                                    src={item.img || '/assets/img/default-product.jpg'} \r\n                                                                    alt={item.name || 'Sản phẩm'}\r\n                                                                    style={{ width: '60px', height: '60px', objectFit: 'cover', borderRadius: '8px' }}\r\n                                                                />\r\n                                                            </td>\r\n                                                            <td>\r\n                                                                <strong>{item.name || 'Sản phẩm'}</strong>\r\n                                                            </td>\r\n                                                            <td className=\"text-center\">{itemQuantity}</td>\r\n                                                            <td className=\"text-end\">{formatVND(itemPrice)}</td>\r\n                                                            <td className=\"text-end fw-bold\">{formatVND(itemTotal)}</td>\r\n                                                        </tr>\r\n                                                    );\r\n                                                })\r\n                                            )}\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"col-lg-4\">\r\n                        {/* Order Info */}\r\n                        <div className=\"card shadow-sm mb-4\">\r\n                            <div className=\"card-header bg-white\">\r\n                                <h5 className=\"mb-0\"><i className=\"fas fa-info-circle me-2\"></i>Thông tin đơn hàng</h5>\r\n                            </div>\r\n                            <div className=\"card-body\">\r\n                                <div className=\"mb-3\">\r\n                                    <strong>Mã đơn hàng:</strong>\r\n                                    <div className=\"text-muted\">#{order.id}</div>\r\n                                </div>\r\n                                <div className=\"mb-3\">\r\n                                    <strong>Ngày đặt hàng:</strong>\r\n                                    <div className=\"text-muted\">{formatDate(order.created_at)}</div>\r\n                                </div>\r\n                                <div className=\"mb-3\">\r\n                                    <strong>Trạng thái:</strong>\r\n                                    <div>{getStatusBadge(order.status)}</div>\r\n                                </div>\r\n                                <div className=\"mb-3\">\r\n                                    <strong>Phương thức thanh toán:</strong>\r\n                                    <div>\r\n                                        {order.paymentMethod === 'cod' ? (\r\n                                            <span className=\"badge bg-secondary\">Thanh toán khi nhận hàng (COD)</span>\r\n                                        ) : (\r\n                                            <span className=\"badge bg-success\">Chuyển khoản</span>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                                {voucherDiscount > 0 && (\r\n                                    <div className=\"mb-3\">\r\n                                        <strong>Voucher đã dùng:</strong>\r\n                                        <div className=\"text-muted\">{voucherCode || 'Đã áp dụng'}</div>\r\n                                    </div>\r\n                                )}\r\n                                <hr />\r\n                                <div className=\"mb-2\">\r\n                                    <div className=\"d-flex justify-content-between\">\r\n                                        <span>Tạm tính</span>\r\n                                        <strong>{formatVND(subtotal)}</strong>\r\n                                    </div>\r\n                                    {promoDiscount > 0 && (\r\n                                        <div className=\"d-flex justify-content-between text-success\">\r\n                                            <span>Giảm giá khuyến mãi</span>\r\n                                            <strong>-{formatVND(promoDiscount)}</strong>\r\n                                        </div>\r\n                                    )}\r\n                                    {voucherDiscount > 0 && (\r\n                                        <div className=\"d-flex justify-content-between text-success\">\r\n                                            <span>Voucher {voucherCode ? `(${voucherCode})` : ''}</span>\r\n                                            <strong>-{formatVND(voucherDiscount)}</strong>\r\n                                        </div>\r\n                                    )}\r\n                                    {shippingAdjustment > 0 && (\r\n                                        <div className=\"d-flex justify-content-between text-muted\">\r\n                                            <span>Phí vận chuyển (ước tính)</span>\r\n                                            <strong>{formatVND(shippingAdjustment)}</strong>\r\n                                        </div>\r\n                                    )}\r\n                                    <hr />\r\n                                    <div className=\"d-flex justify-content-between align-items-center\">\r\n                                        <strong className=\"h5 mb-0\">Tổng tiền</strong>\r\n                                        <strong className=\"h5 text-primary mb-0\">{formatVND(total)}</strong>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Shipping Info */}\r\n                        <div className=\"card shadow-sm mb-4\">\r\n                            <div className=\"card-header bg-white\">\r\n                                <h5 className=\"mb-0\"><i className=\"fas fa-truck me-2\"></i>Thông tin giao hàng</h5>\r\n                            </div>\r\n                            <div className=\"card-body\">\r\n                                <div className=\"mb-3\">\r\n                                    <strong>Người nhận:</strong>\r\n                                    <div className=\"text-muted\">{order.fullName}</div>\r\n                                </div>\r\n                                <div className=\"mb-3\">\r\n                                    <strong>Số điện thoại:</strong>\r\n                                    <div className=\"text-muted\">{order.mobile}</div>\r\n                                </div>\r\n                                <div className=\"mb-3\">\r\n                                    <strong>Địa chỉ:</strong>\r\n                                    <div className=\"text-muted\">{order.address}</div>\r\n                                </div>\r\n                                <div className=\"mb-0\">\r\n                                    <strong>Tỉnh/Thành phố:</strong>\r\n                                    <div className=\"text-muted\">{order.state}</div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Actions */}\r\n                        <div className=\"card shadow-sm\">\r\n                            <div className=\"card-body\">\r\n                                <button \r\n                                    className=\"btn btn-outline-secondary w-100 mb-2\"\r\n                                    onClick={() => navigate('/my-orders')}\r\n                                >\r\n                                    <i className=\"fas fa-arrow-left me-2\"></i>Quay lại danh sách\r\n                                </button>\r\n                                <button \r\n                                    className=\"btn btn-primary w-100\"\r\n                                    onClick={() => navigate('/shop')}\r\n                                >\r\n                                    <i className=\"fas fa-shopping-cart me-2\"></i>Tiếp tục mua sắm\r\n                                </button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <Footer />\r\n        </Fragment>\r\n    );\r\n}\r\n\r\nexport default OrderDetail;\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}