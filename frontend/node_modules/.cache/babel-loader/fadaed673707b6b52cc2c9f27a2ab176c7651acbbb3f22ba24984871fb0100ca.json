{"ast":null,"code":"import React,{useState,useEffect,Fragment,useRef,useContext}from\"react\";import{useNavigate,Link}from'react-router-dom';// Import useNavigate để điều hướng\nimport Header from\"./Header\";import Footer from\"./Footer\";import{toast}from'react-toastify';import{parseVND,formatVND}from'../utils/currency';import{CartContext}from'./CartContext';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Cart(){const navigate=useNavigate();// Tạo hàm điều hướng\nconst{cart:items,addToCart,decreaseQuantity,removeFromCart,clearCart:contextClearCart}=useContext(CartContext);const[pendingClear,setPendingClear]=useState(false);const clearTimerRef=useRef(null);const[promoSettings,setPromoSettings]=useState({bulk_discount:0,bulk_threshold:5,enable_voucher:false});const[voucherCode,setVoucherCode]=useState('');const[voucherDiscount,setVoucherDiscount]=useState(0);const[voucherError,setVoucherError]=useState('');// Hàm cập nhật số lượng sản phẩm\nconst updateQuantity=(id,delta)=>{if(delta>0){// increase: dùng addToCart với quantity 1\nconst item=items.find(i=>i.id===id);if(item)addToCart({...item,quantity:1});}else if(delta<0){// decrease: gọi decreaseQuantity\ndecreaseQuantity(id);}};// Hàm xóa sản phẩm khỏi giỏ hàng\nconst removeItem=id=>{removeFromCart(id);};// Hàm tính tổng phụ (subtotal) của giỏ hàng\nconst getSubtotal=()=>{return items.reduce((total,item)=>total+parseVND(item.price)*(item.quantity||1),0);};// Hàm xóa toàn bộ giỏ hàng (xác nhận không chặn: nhấn 2 lần trong 3s)\nconst clearCart=()=>{if(!pendingClear){setPendingClear(true);toast.warning('Nhấn lại lần nữa trong 3 giây để xác nhận xóa giỏ hàng');if(clearTimerRef.current)clearTimeout(clearTimerRef.current);clearTimerRef.current=setTimeout(()=>setPendingClear(false),3000);return;}setPendingClear(false);if(clearTimerRef.current){clearTimeout(clearTimerRef.current);clearTimerRef.current=null;}contextClearCart();toast.success('Đã xóa toàn bộ giỏ hàng');};// Dọn dẹp timer khi unmount\nuseEffect(()=>{return()=>{if(clearTimerRef.current)clearTimeout(clearTimerRef.current);};},[]);// Fetch promo settings\nuseEffect(()=>{axios.get('/api/settings').then(response=>{if(response.data&&typeof response.data==='object'){const settings={};Object.keys(response.data).forEach(key=>{settings[key]=response.data[key].value||'';});setPromoSettings({bulk_discount:parseInt(settings['promo.bulk_discount'])||0,bulk_threshold:parseInt(settings['promo.bulk_threshold'])||5,enable_voucher:settings['promo.enable_voucher']==='true'});}}).catch(error=>{console.error('Error fetching promo settings:',error);});},[]);// Tính tổng số lượng sản phẩm\nconst getTotalQuantity=()=>{return items.reduce((total,item)=>total+(item.quantity||1),0);};// Tính giảm giá khi mua nhiều\nconst getBulkDiscount=()=>{const totalQty=getTotalQuantity();if(totalQty>=promoSettings.bulk_threshold&&promoSettings.bulk_discount>0){const subtotal=getSubtotal();return Math.round(subtotal*promoSettings.bulk_discount/100);}return 0;};// Xử lý áp dụng voucher\nconst handleApplyVoucher=async()=>{if(!voucherCode.trim()){setVoucherError('Vui lòng nhập mã voucher');return;}try{const response=await axios.post('/api/vouchers/validate',{code:voucherCode.trim()});const voucher=response.data;const subtotal=getSubtotal()-getBulkDiscount();// Check minimum order amount\nif(subtotal<voucher.min_order_amount){setVoucherError(`Đơn hàng tối thiểu ${formatVND(voucher.min_order_amount)} để sử dụng voucher này`);setVoucherDiscount(0);return;}// Calculate discount\nlet discount=0;if(voucher.discount_type==='percent'){discount=Math.round(subtotal*voucher.discount_value/100);if(voucher.max_discount&&discount>voucher.max_discount){discount=voucher.max_discount;}}else{discount=voucher.discount_value;}setVoucherDiscount(discount);setVoucherError('');toast.success('Áp dụng voucher thành công!');}catch(error){var _error$response,_error$response$data;setVoucherError(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Mã voucher không hợp lệ');setVoucherDiscount(0);}};// Tính tổng giảm giá (bulk + voucher)\nconst getTotalDiscount=()=>{return getBulkDiscount()+voucherDiscount;};// Hàm xử lý chuyển hướng sang trang Checkout khi nhấn nút \"Proceed To Checkout\"\nconst handleProceedToCheckout=()=>{navigate('/checkout');// Chuyển hướng đến trang Checkout\n};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid bg-secondary mb-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column align-items-center justify-content-center\",style:{minHeight:'300px'},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"font-weight-semi-bold text-uppercase mb-3\",children:\"Gi\\u1ECF h\\xE0ng\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-inline-flex\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"m-0\",children:/*#__PURE__*/_jsx(\"a\",{href:\"Index\",children:\"Trang ch\\u1EE7\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"m-0 px-2\",children:\"-\"}),/*#__PURE__*/_jsx(\"p\",{className:\"m-0\",children:\"Gi\\u1ECF h\\xE0ng\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid pt-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row px-xl-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-8 table-responsive mb-5\",children:items.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"Gi\\u1ECF h\\xE0ng c\\u1EE7a b\\u1EA1n hi\\u1EC7n t\\u1EA1i ch\\u01B0a c\\xF3 s\\u1EA3n ph\\u1EA9m n\\xE0o.\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered mb-0\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-secondary text-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"S\\u1EA3n ph\\u1EA9m\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Gi\\xE1\"}),/*#__PURE__*/_jsx(\"th\",{children:\"S\\u1ED1 l\\u01B0\\u1EE3ng\"}),/*#__PURE__*/_jsx(\"th\",{children:\"T\\u1ED5ng\"}),/*#__PURE__*/_jsx(\"th\",{children:\"X\\xF3a\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"align-middle\",children:items.map(item=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"align-middle text-start\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.img,alt:\"\",style:{width:\"56px\"},className:\"me-2\"}),/*#__PURE__*/_jsx(\"span\",{children:item.name})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle text-center\",children:formatVND(parseVND(item.price))}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group input-group-sm\",style:{width:'110px',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary btn-sm\",onClick:()=>updateQuantity(item.id,-1),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-minus\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control form-control-sm text-center\",value:item.quantity,readOnly:true}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-secondary btn-sm\",onClick:()=>updateQuantity(item.id,1),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"})})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle text-center\",children:formatVND(parseVND(item.price)*(item.quantity||1))}),/*#__PURE__*/_jsx(\"td\",{className:\"align-middle text-center\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-danger btn-sm\",onClick:()=>removeItem(item.id),children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-times\"})})})]},item.id))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card border-secondary mb-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header bg-secondary border-0\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"font-weight-semi-bold m-0\",children:\"T\\xF3m t\\u1EAFt gi\\u1ECF h\\xE0ng\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mb-2 pt-1\",children:[/*#__PURE__*/_jsx(\"h6\",{className:\"font-weight-medium\",children:\"T\\u1ED5ng ph\\u1EE5\"}),/*#__PURE__*/_jsx(\"h6\",{className:\"font-weight-medium\",children:formatVND(getSubtotal())})]}),getBulkDiscount()>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h6\",{className:\"font-weight-medium mb-0 text-success\",children:\"Gi\\u1EA3m gi\\xE1 mua nhi\\u1EC1u\"}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"Mua t\\u1EEB \",promoSettings.bulk_threshold,\" s\\u1EA3n ph\\u1EA9m: -\",promoSettings.bulk_discount,\"%\"]})]}),/*#__PURE__*/_jsxs(\"h6\",{className:\"font-weight-medium text-success\",children:[\"-\",formatVND(getBulkDiscount())]})]}),promoSettings.enable_voucher&&/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group input-group-sm\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:`form-control ${voucherError?'is-invalid':''}`,placeholder:\"Nh\\u1EADp m\\xE3 voucher\",value:voucherCode,onChange:e=>{setVoucherCode(e.target.value);setVoucherError('');},onKeyPress:e=>{if(e.key==='Enter')handleApplyVoucher();}}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary\",type:\"button\",onClick:handleApplyVoucher,children:\"\\xC1p d\\u1EE5ng\"})]}),voucherError&&/*#__PURE__*/_jsx(\"small\",{className:\"text-danger d-block mt-1\",children:voucherError}),voucherDiscount>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mt-2\",children:[/*#__PURE__*/_jsxs(\"small\",{className:\"text-success\",children:[\"Voucher: \",voucherCode]}),/*#__PURE__*/_jsxs(\"small\",{className:\"text-success fw-bold\",children:[\"-\",formatVND(voucherDiscount)]})]}),/*#__PURE__*/_jsx(\"small\",{className:\"d-block mt-2\",children:/*#__PURE__*/_jsx(Link,{to:\"/vouchers\",children:\"V\\xE0o kho voucher \\u0111\\u1EC3 nh\\u1EADn th\\xEAm \\u01B0u \\u0111\\xE3i\"})})]}),getTotalQuantity()<promoSettings.bulk_threshold&&promoSettings.bulk_discount>0&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info py-2 mb-0\",children:/*#__PURE__*/_jsxs(\"small\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-info-circle me-1\"}),\"Mua th\\xEAm \",promoSettings.bulk_threshold-getTotalQuantity(),\" s\\u1EA3n ph\\u1EA9m \\u0111\\u1EC3 \\u0111\\u01B0\\u1EE3c gi\\u1EA3m \",promoSettings.bulk_discount,\"%\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-footer border-secondary bg-transparent\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between mt-2\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"font-weight-bold\",children:\"T\\u1ED5ng c\\u1ED9ng\"}),/*#__PURE__*/_jsx(\"h5\",{className:\"font-weight-bold\",children:formatVND(getSubtotal()-getTotalDiscount())})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-block btn-primary my-3 py-3\",onClick:handleProceedToCheckout,children:\"Thanh to\\xE1n\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-block btn-danger my-3 py-3\",onClick:clearCart,children:\"X\\xF3a gi\\u1ECF h\\xE0ng\"})]})]})})]})}),/*#__PURE__*/_jsx(Footer,{})]});}export default Cart;","map":{"version":3,"names":["React","useState","useEffect","Fragment","useRef","useContext","useNavigate","Link","Header","Footer","toast","parseVND","formatVND","CartContext","axios","jsx","_jsx","jsxs","_jsxs","Cart","navigate","cart","items","addToCart","decreaseQuantity","removeFromCart","clearCart","contextClearCart","pendingClear","setPendingClear","clearTimerRef","promoSettings","setPromoSettings","bulk_discount","bulk_threshold","enable_voucher","voucherCode","setVoucherCode","voucherDiscount","setVoucherDiscount","voucherError","setVoucherError","updateQuantity","id","delta","item","find","i","quantity","removeItem","getSubtotal","reduce","total","price","warning","current","clearTimeout","setTimeout","success","get","then","response","data","settings","Object","keys","forEach","key","value","parseInt","catch","error","console","getTotalQuantity","getBulkDiscount","totalQty","subtotal","Math","round","handleApplyVoucher","trim","post","code","voucher","min_order_amount","discount","discount_type","discount_value","max_discount","_error$response","_error$response$data","message","getTotalDiscount","handleProceedToCheckout","children","className","style","minHeight","href","length","map","src","img","alt","width","name","margin","onClick","type","readOnly","placeholder","onChange","e","target","onKeyPress","to"],"sources":["C:/Trần Minh Quý/Chuyên đề Nodejs và React/2200008995_TranMinhQuy/2200008995_TranMinhQuy/ProjectReactNodejs/SHOPBANSACH/frontend/src/pages/Cart.js"],"sourcesContent":["import React, { useState, useEffect, Fragment, useRef, useContext } from \"react\";\nimport { useNavigate, Link } from 'react-router-dom'; // Import useNavigate để điều hướng\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport { toast } from 'react-toastify';\nimport { parseVND, formatVND } from '../utils/currency';\nimport { CartContext } from './CartContext';\nimport axios from 'axios';\n\nfunction Cart() {\n    const navigate = useNavigate(); // Tạo hàm điều hướng\n\n    const { cart: items, addToCart, decreaseQuantity, removeFromCart, clearCart: contextClearCart } = useContext(CartContext);\n    const [pendingClear, setPendingClear] = useState(false);\n    const clearTimerRef = useRef(null);\n    const [promoSettings, setPromoSettings] = useState({\n        bulk_discount: 0,\n        bulk_threshold: 5,\n        enable_voucher: false\n    });\n    const [voucherCode, setVoucherCode] = useState('');\n    const [voucherDiscount, setVoucherDiscount] = useState(0);\n    const [voucherError, setVoucherError] = useState('');\n\n    // Hàm cập nhật số lượng sản phẩm\n    const updateQuantity = (id, delta) => {\n        if (delta > 0) {\n            // increase: dùng addToCart với quantity 1\n            const item = items.find(i => i.id === id);\n            if (item) addToCart({ ...item, quantity: 1 });\n        } else if (delta < 0) {\n            // decrease: gọi decreaseQuantity\n            decreaseQuantity(id);\n        }\n    };\n\n    // Hàm xóa sản phẩm khỏi giỏ hàng\n    const removeItem = (id) => {\n        removeFromCart(id);\n    };\n\n    // Hàm tính tổng phụ (subtotal) của giỏ hàng\n    const getSubtotal = () => {\n        return items.reduce((total, item) => total + parseVND(item.price) * (item.quantity || 1), 0);\n    };\n\n    // Hàm xóa toàn bộ giỏ hàng (xác nhận không chặn: nhấn 2 lần trong 3s)\n    const clearCart = () => {\n        if (!pendingClear) {\n            setPendingClear(true);\n            toast.warning('Nhấn lại lần nữa trong 3 giây để xác nhận xóa giỏ hàng');\n            if (clearTimerRef.current) clearTimeout(clearTimerRef.current);\n            clearTimerRef.current = setTimeout(() => setPendingClear(false), 3000);\n            return;\n        }\n        setPendingClear(false);\n        if (clearTimerRef.current) {\n            clearTimeout(clearTimerRef.current);\n            clearTimerRef.current = null;\n        }\n        contextClearCart();\n        toast.success('Đã xóa toàn bộ giỏ hàng');\n    };\n\n    // Dọn dẹp timer khi unmount\n    useEffect(() => {\n        return () => {\n            if (clearTimerRef.current) clearTimeout(clearTimerRef.current);\n        };\n    }, []);\n\n    // Fetch promo settings\n    useEffect(() => {\n        axios.get('/api/settings')\n            .then(response => {\n                if (response.data && typeof response.data === 'object') {\n                    const settings = {};\n                    Object.keys(response.data).forEach(key => {\n                        settings[key] = response.data[key].value || '';\n                    });\n                    setPromoSettings({\n                        bulk_discount: parseInt(settings['promo.bulk_discount']) || 0,\n                        bulk_threshold: parseInt(settings['promo.bulk_threshold']) || 5,\n                        enable_voucher: settings['promo.enable_voucher'] === 'true'\n                    });\n                }\n            })\n            .catch(error => {\n                console.error('Error fetching promo settings:', error);\n            });\n    }, []);\n\n    // Tính tổng số lượng sản phẩm\n    const getTotalQuantity = () => {\n        return items.reduce((total, item) => total + (item.quantity || 1), 0);\n    };\n\n    // Tính giảm giá khi mua nhiều\n    const getBulkDiscount = () => {\n        const totalQty = getTotalQuantity();\n        if (totalQty >= promoSettings.bulk_threshold && promoSettings.bulk_discount > 0) {\n            const subtotal = getSubtotal();\n            return Math.round(subtotal * promoSettings.bulk_discount / 100);\n        }\n        return 0;\n    };\n\n    // Xử lý áp dụng voucher\n    const handleApplyVoucher = async () => {\n        if (!voucherCode.trim()) {\n            setVoucherError('Vui lòng nhập mã voucher');\n            return;\n        }\n        \n        try {\n            const response = await axios.post('/api/vouchers/validate', { code: voucherCode.trim() });\n            const voucher = response.data;\n            const subtotal = getSubtotal() - getBulkDiscount();\n            \n            // Check minimum order amount\n            if (subtotal < voucher.min_order_amount) {\n                setVoucherError(`Đơn hàng tối thiểu ${formatVND(voucher.min_order_amount)} để sử dụng voucher này`);\n                setVoucherDiscount(0);\n                return;\n            }\n            \n            // Calculate discount\n            let discount = 0;\n            if (voucher.discount_type === 'percent') {\n                discount = Math.round(subtotal * voucher.discount_value / 100);\n                if (voucher.max_discount && discount > voucher.max_discount) {\n                    discount = voucher.max_discount;\n                }\n            } else {\n                discount = voucher.discount_value;\n            }\n            \n            setVoucherDiscount(discount);\n            setVoucherError('');\n            toast.success('Áp dụng voucher thành công!');\n        } catch (error) {\n            setVoucherError(error.response?.data?.message || 'Mã voucher không hợp lệ');\n            setVoucherDiscount(0);\n        }\n    };\n\n    // Tính tổng giảm giá (bulk + voucher)\n    const getTotalDiscount = () => {\n        return getBulkDiscount() + voucherDiscount;\n    };\n\n    // Hàm xử lý chuyển hướng sang trang Checkout khi nhấn nút \"Proceed To Checkout\"\n    const handleProceedToCheckout = () => {\n        navigate('/checkout'); // Chuyển hướng đến trang Checkout\n    };\n\n    return (\n        <Fragment>\n            <Header />\n            <div className=\"container-fluid bg-secondary mb-5\">\n                <div\n                    className=\"d-flex flex-column align-items-center justify-content-center\"\n                    style={{ minHeight: '300px' }} >\n                    <h1 className=\"font-weight-semi-bold text-uppercase mb-3\">Giỏ hàng</h1>\n                    <div className=\"d-inline-flex\">\n                        <p className=\"m-0\"><a href=\"Index\">Trang chủ</a></p>\n                        <p className=\"m-0 px-2\">-</p>\n                        <p className=\"m-0\">Giỏ hàng</p>\n                    </div>\n                </div>\n            </div>\n\n            <div className=\"container-fluid pt-5\">\n                <div className=\"row px-xl-5\">\n                    <div className=\"col-lg-8 table-responsive mb-5\">\n                        {/* Hiển thị thông báo nếu giỏ hàng trống */}\n                        {items.length === 0 ? (\n                            <p>Giỏ hàng của bạn hiện tại chưa có sản phẩm nào.</p>\n                        ) : (\n                            <table className=\"table table-bordered mb-0\">\n                                <thead className=\"bg-secondary text-dark\">\n                                    <tr>\n                                        <th>Sản phẩm</th>\n                                        <th>Giá</th>\n                                        <th>Số lượng</th>\n                                        <th>Tổng</th>\n                                        <th>Xóa</th>\n                                    </tr>\n                                </thead>\n                                <tbody className=\"align-middle\">\n                                    {/* Hiển thị danh sách sản phẩm trong giỏ hàng */}\n                                    {items.map((item) => (\n                                        <tr key={item.id}>\n                                            <td className=\"align-middle text-start\">\n                                                <div className=\"d-flex align-items-center\">\n                                                    <img src={item.img} alt=\"\" style={{ width: \"56px\" }} className=\"me-2\" />\n                                                    <span>{item.name}</span>\n                                                </div>\n                                            </td>\n                                            <td className=\"align-middle text-center\">{formatVND(parseVND(item.price))}</td>\n                                            <td className=\"align-middle\">\n                                                <div className=\"input-group input-group-sm\" style={{ width: '110px', margin: '0 auto' }}>\n                                                    <button className=\"btn btn-outline-secondary btn-sm\" onClick={() => updateQuantity(item.id, -1)}>\n                                                        <i className=\"fas fa-minus\"></i>\n                                                    </button>\n                                                    <input type=\"text\" className=\"form-control form-control-sm text-center\" value={item.quantity} readOnly />\n                                                    <button className=\"btn btn-outline-secondary btn-sm\" onClick={() => updateQuantity(item.id, 1)}>\n                                                        <i className=\"fas fa-plus\"></i>\n                                                    </button>\n                                                </div>\n                                            </td>\n                                            <td className=\"align-middle text-center\">{formatVND(parseVND(item.price) * (item.quantity || 1))}</td>\n                                            <td className=\"align-middle text-center\">\n                                                <button className=\"btn btn-outline-danger btn-sm\" onClick={() => removeItem(item.id)}>\n                                                    <i className=\"fa fa-times\"></i>\n                                                </button>\n                                            </td>\n                                        </tr>\n                                    ))}\n                                </tbody>\n                            </table>\n                        )}\n                    </div>\n\n                    <div className=\"col-lg-4\">\n                        <div className=\"card border-secondary mb-5\">\n                            <div className=\"card-header bg-secondary border-0\">\n                                <h4 className=\"font-weight-semi-bold m-0\">Tóm tắt giỏ hàng</h4>\n                            </div>\n                            <div className=\"card-body\">\n                                <div className=\"d-flex justify-content-between mb-2 pt-1\">\n                                    <h6 className=\"font-weight-medium\">Tổng phụ</h6>\n                                    <h6 className=\"font-weight-medium\">{formatVND(getSubtotal())}</h6>\n                                </div>\n                                {getBulkDiscount() > 0 && (\n                                    <div className=\"d-flex justify-content-between mb-2\">\n                                        <div>\n                                            <h6 className=\"font-weight-medium mb-0 text-success\">Giảm giá mua nhiều</h6>\n                                            <small className=\"text-muted\">Mua từ {promoSettings.bulk_threshold} sản phẩm: -{promoSettings.bulk_discount}%</small>\n                                        </div>\n                                        <h6 className=\"font-weight-medium text-success\">-{formatVND(getBulkDiscount())}</h6>\n                                    </div>\n                                )}\n                                {promoSettings.enable_voucher && (\n                                    <div className=\"mb-2\">\n                                        <div className=\"input-group input-group-sm\">\n                                            <input \n                                                type=\"text\" \n                                                className={`form-control ${voucherError ? 'is-invalid' : ''}`}\n                                                placeholder=\"Nhập mã voucher\"\n                                                value={voucherCode}\n                                                onChange={(e) => {\n                                                    setVoucherCode(e.target.value);\n                                                    setVoucherError('');\n                                                }}\n                                                onKeyPress={(e) => {\n                                                    if (e.key === 'Enter') handleApplyVoucher();\n                                                }}\n                                            />\n                                            <button \n                                                className=\"btn btn-outline-primary\" \n                                                type=\"button\"\n                                                onClick={handleApplyVoucher}\n                                            >\n                                                Áp dụng\n                                            </button>\n                                        </div>\n                                        {voucherError && <small className=\"text-danger d-block mt-1\">{voucherError}</small>}\n                                        {voucherDiscount > 0 && (\n                                            <div className=\"d-flex justify-content-between mt-2\">\n                                                <small className=\"text-success\">Voucher: {voucherCode}</small>\n                                                <small className=\"text-success fw-bold\">-{formatVND(voucherDiscount)}</small>\n                                            </div>\n                                        )}\n                                        <small className=\"d-block mt-2\">\n                                            <Link to=\"/vouchers\">Vào kho voucher để nhận thêm ưu đãi</Link>\n                                        </small>\n                                    </div>\n                                )}\n                                {getTotalQuantity() < promoSettings.bulk_threshold && promoSettings.bulk_discount > 0 && (\n                                    <div className=\"alert alert-info py-2 mb-0\">\n                                        <small>\n                                            <i className=\"fa fa-info-circle me-1\"></i>\n                                            Mua thêm {promoSettings.bulk_threshold - getTotalQuantity()} sản phẩm để được giảm {promoSettings.bulk_discount}%\n                                        </small>\n                                    </div>\n                                )}\n                            </div>\n                            <div className=\"card-footer border-secondary bg-transparent\">\n                                <div className=\"d-flex justify-content-between mt-2\">\n                                    <h5 className=\"font-weight-bold\">Tổng cộng</h5>\n                                    <h5 className=\"font-weight-bold\">{formatVND(getSubtotal() - getTotalDiscount())}</h5>\n                                </div>\n                                <button className=\"btn btn-block btn-primary my-3 py-3\" onClick={handleProceedToCheckout}>\n                                   Thanh toán\n                                </button>\n                                <button className=\"btn btn-block btn-danger my-3 py-3\" onClick={clearCart}>Xóa giỏ hàng</button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <Footer />\n        </Fragment>\n    );\n}\n\nexport default Cart;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}